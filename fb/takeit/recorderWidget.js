(()=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(t)}function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,c=void 0,c=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i),"symbol"===n(c)?c:String(c)),o)}var i,c}function e(n,t){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},e(n,t)}function r(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function o(n){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o(n)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}function c(n,t,r){return c=i()?Reflect.construct.bind():function(n,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(n,o));return r&&e(i,r.prototype),i},c.apply(null,arguments)}function a(n){var t="function"==typeof Map?new Map:void 0;return a=function(n){if(null===n||!function(n){try{return-1!==Function.toString.call(n).indexOf("[native code]")}catch(t){return"function"==typeof n}}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return c(n,arguments,o(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e(r,n)},a(n)}var s=!1,u=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&e(n,t)}(l,n);var i,c,a,s,u=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=o(a);if(s){var e=o(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return r(this,n)});function l(){var n,t;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=u.call(this)).attachShadow({mode:"open"}),n.shadowRoot.innerHTML=n.getHTML(),null===(t=n.shadowRoot.querySelector(".inssman-recorder-widget .stop-content"))||void 0===t||t.addEventListener("click",(function(){n.shadowRoot.querySelector(".inssman-recorder-widget").classList.add("hide"),window.postMessage({action:"stopRecording",source:"inssman:recorderWidget"},window.origin)})),n}return i=l,(c=[{key:"getHTML",value:function(){return'\n    <div class="container inssman-recorder-widget">\n      <div class="recording-content">\n        <span class="record-icon"></span>\n        <span>Recording</span>\n      </div>\n      <div class="stop-content">\n        <span class="stop-icon"></span>\n        <span>Stop</span>\n      </div>\n    </div>\n\n    <style>\n      .container {\n        border: 1px solid grey;\n        position: fixed;\n        bottom: 40px;\n        left: 30px;\n        display: inline-flex;\n        color: white;\n        align-items: center;\n        justify-content: center;\n        background: rgba(15, 23, 42, 1);\n        border-radius: 20px;\n        padding: 3px;\n        z-index: 999999999;\n      }\n      .stop-content {\n        background: #FF0000;\n      }\n      .stop-content:hover {\n        background: #b31900;\n      }\n      .stop-content,\n      .recording-content {\n        border-radius: 20px;\n        padding: 10px 15px;\n        display: flex;\n        gap: 5px;\n        align-items: center;\n        justify-content: center;\n      }\n      .stop-content:hover {\n        cursor: pointer;\n      }\n      .recording-content {\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      .record-icon {\n        width: 20px;\n        height: 20px;\n        border: 2px solid #f3f3f3;\n        background: red;\n        animation: blink 1s cubic-bezier(0.5, 0, 1, 1) infinite alternate;\n        border-radius: 50%;\n      }\n\n      .stop-icon {\n        width: 20px;\n        height: 20px;\n        border: 2px solid #f3f3f3;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .stop-icon::after {\n        content: "";\n        display: inline-block;\n        width: 10px;\n        height: 10px;\n        background: white;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      @keyframes blink {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    '}}])&&t(i.prototype,c),Object.defineProperty(i,"prototype",{writable:!1}),l}(a(HTMLElement));customElements.define("inssman-record-session-widget",u),window.addEventListener("message",(function(n){var t,e=n.data,r=e.action,o=e.source;if(e.data,n.origin===window.origin&&(null===(t=null==o?void 0:o.startsWith)||void 0===t?void 0:t.call(o,"inssman:"))&&!o.startsWith("inssman:recorderWidget")&&"showWidget"===r){if(s)return;var i=document.createElement("inssman-record-session-widget");i.classList.add("inssman-ignore-element"),document.documentElement.appendChild(i),s=!0}}))})();